<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100">
    
    <div class="w-full h-screen flex justify-center items-center">
        <div class="w-[375px] p-4 rounded-xl bg-white">
            <input class="w-full bg-gray-100 py-2 px-4 rounded-md mb-4" type="text" placeholder="Username" id="username">

            <input class="w-full bg-gray-100 py-2 px-4 rounded-md mb-4" type="text" placeholder="Email" id="email">

            <input class="w-full bg-gray-100 py-2 px-4 rounded-md mb-4" type="password" placeholder="Password" id="password">

            <input class="w-full bg-gray-100 py-2 px-4 rounded-md mb-4" type="password" placeholder="Confirm password" id="passwordConfirm">

            <button class="w-full bg-indigo-500 py-2 px-4 rounded-md text-white" id="btn">Бүртгүүлэх</button>
        </div>
    </div>

    <script>
        const username = document.querySelector('#username');
        const email = document.querySelector('#email');
        const password = document.querySelector('#password');
        const passwordConfirm = document.querySelector('#passwordConfirm');
        const btn = document.querySelector('#btn');
        
        btn.addEventListener('click' , () => {
            if(username.value.trim() !== '' &&
               email.value.trim() !== '' &&
               password.value.trim() !== '' &&
               passwordConfirm.value.trim() !== ''
            ) {
                if(password.value !== passwordConfirm.value){
                    alert('password taarahgui bna');
                    return;
                }

                const formData = {
                    username: username.value,
                    email: email.value,
                    password: password.value
                }

                fetch('http://localhost:3002/register' , {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify(formData)
                })
                .then(res => res.json())
                .then(result => {
                    console.log(result);
                    clearForm();
                })
            } else {
                alert('Invalid input')
            }
        })

        function clearForm(){
            username.value = '';
            email.value = '';
            password.value = '';
            passwordConfirm.value = '';
        }

        // User login
        // nevtersen hereglegchiin datag local dr hadgalna. 

        // User logout
        // local drees nevtersen hereglegchiin data ustgah
    </script>
</body>
</html>